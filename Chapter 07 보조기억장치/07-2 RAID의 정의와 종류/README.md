# 07-2 RAID의 정의와 종류

## 📌 학습 목표
- 해당 챕터의 개념 정리

## ❓ 확인 문제

### Q1. RAID의 설명으로 틀린것을 고르시오.

1. RAID는 데이터의 안전성 혹은 높은 성능을 위해 여러 개의 물리적 보조기억장치를, 하나의 논리적 보조기억장치처럼 사용하는 기술이다.
2. RAID의 종류 중 하나인 RAID0은 단순히 데이터를 병렬저장하는 방법이다. 입출력 속도는 빠르지만, 저장된 정보가 안전하지 않다는 단점이 있다.
3. RAID의 종류 중 하나인 RAID1은 백업본을 만들어, 정보의 안전성을 높인 방법이다. 입출력의 속도 또한 RAID0과 동일하여, 가장 좋은 방법이라 할 수 있다.
4. 여러 RAID 레벨을 혼합환 방식 또한 존재하며 이를 Nested RAID라고 부른다.

<details>
<summary>정답</summary>

##### 3. RAID의 종류 중 하나인 RAID1은 백업본을 만들어, 정보의 안전성을 높인 방법이다. 입출력의 속도 또한 RAID0과 동일하여, 가장 좋은 방법이라 할 수 있다.

**[해설]**

- 백업본을 이용하여 정보의 안전성을 높인 것은 사실이다. 하지만, 데이터를 쓸 때 원본과 복사본 두 군데에 쓰기 때문에 속도 측면에서는 RAID0보다 느리다. 또한, 완전한 복사본을 만들기 때문에, 실질적으로 저장 가능한 데이터는 RAID0을 쓸 때의 1/2배라고 할 수 있다.

</details>


### Q2:RAID 4의 패리티 비트에 대한 설명으로 옳지 않은 것은?


1. 패리티 정보를 저장한 장치이다.
2. 패리티 비트는 본래 오류 검출만이 가능하다.
3. Raid4에서 패리티 비트는 오류를 복구 하는 것도 가능하다.  
4. 이를 통해 병목현상이 발생하지 않는다.



<details>
<summary>정답</summary>

### 4. 이를 통해 병목현상이 발생하지 않는다.

- Raid4에서는 새로운 데이터가 저장될때마다 패리티를 저장하는 디스크에도 데이터를 쓰게 되므로 병목현상이 발생한다.

- 이를 보완하기 위해 패리티 정보를 분산하여 저장하는 방식이 Raid5이다.


</details>

---

### Q3. RAID의 개념과 종류에 대한 설명으로 틀린 것은?

1️. RAID(Redundant Array of Independent Disks)는 여러 개의 디스크를 하나의 논리적 장치처럼 사용하여 성능과 데이터 안전성을 향상시키는 기술이다.  
2️. RAID 0은 데이터를 스트라이핑(Striping)하여 저장하며, 성능은 향상되지만 데이터 보호 기능은 제공하지 않는다.  
3️. RAID 1은 디스크를 미러링(Mirroring)하여 동일한 데이터를 저장하며, 성능이 향상되지만 내결함성(Fault Tolerance)은 없다.  
4️. RAID 5는 최소 3개의 디스크를 사용하여 패리티(Parity) 정보를 분산 저장하여, 한 개의 디스크가 고장 나도 데이터 복구가 가능하다.  

<details>
<summary>정답</summary>

**3. RAID 1은 디스크를 미러링(Mirroring)하여 동일한 데이터를 저장하며, 성능이 향상되지만 내결함성(Fault Tolerance)은 없다. ❌**  

**[해설]**  

**1. RAID(Redundant Array of Independent Disks)는 여러 개의 디스크를 하나의 논리적 장치처럼 사용하여 성능과 데이터 안전성을 향상시키는 기술이다. ✅**  
   - RAID는 여러 개의 디스크를 조합하여 성능을 향상시키거나 데이터 보호 기능을 제공하는 기술입니다.  

**2. RAID 0은 데이터를 스트라이핑(Striping)하여 저장하며, 성능은 향상되지만 데이터 보호 기능은 제공하지 않는다. ✅**  
   - RAID 0은 데이터를 여러 디스크에 분산 저장하여 속도를 높이지만, 데이터 복구 기능이 없으며 한 개의 디스크라도 고장 나면 모든 데이터가 손실됩니다.  

**3. RAID 1은 디스크를 미러링(Mirroring)하여 동일한 데이터를 저장하며, 성능이 향상되지만 내결함성(Fault Tolerance)은 없다. ❌**  
   - RAID 1은 동일한 데이터를 두 개의 디스크에 저장하여 내결함성을 제공합니다. 한 개의 디스크가 고장 나도 데이터를 보호할 수 있습니다.  

**4. RAID 5는 최소 3개의 디스크를 사용하여 패리티(Parity) 정보를 분산 저장하여, 한 개의 디스크가 고장 나도 데이터 복구가 가능하다. ✅**  
   - RAID 5는 성능과 데이터 보호 기능을 모두 제공하며, 패리티 정보를 분산 저장하여 한 개의 디스크 장애 발생 시 데이터 복구가 가능합니다.  

</details>

### Q4. RAID의 주요 목적 중 하나가 아닌 것은?

1️. **데이터의 저장 속도 향상** <br>
2️. **데이터의 안정성 향상** <br>
3️. **메인 메모리 용량 증가** <br>
4️. **디스크 장애 발생 시 복구 가능**<br>

<details>
<summary>정답</summary>

3️. **메인 메모리 용량 증가**
   - RAID는 **스토리지(보조기억장치)의 성능과 안정성을 개선**하는 기술이지, CPU가 사용하는 메인 메모리(RAM)의 크기와는 관련이 없음.

**[해설]**  

**1. 데이터의 저장 속도 향상**  
   - RAID 0과 같이 여러 디스크에 데이터를 **분산 저장(striping)** 하면 읽기 및 쓰기 속도가 향상됨.

**2. 데이터의 안정성 향상**  
   - RAID 1(미러링), RAID 5(패리티 기반) 등의 방식은 데이터 손실을 방지하는 기능을 제공하여 안정성을 높임.

**4. 디스크 장애 발생 시 복구 가능**  
   - RAID 1, RAID 5, RAID 6과 같은 구조는 디스크가 고장 나더라도 데이터를 복구할 수 있도록 설계되어 있음.

</details>

### Q5. RAID 1 방식에서는 데이터를 복제하여 디스크 고장에 대비하지만, 쓰기 성능은 제한적이다. 이를 보완하기 위해, 먼저 데이터를 미러링한 후, 미러링된 쌍을 스트라이핑하여 성능과 안정성을 동시에 확보하는 파생 RAID 방식은 무엇인가?

<details>
<summary>정답</summary>

<h4>RAID 10</h4>

- RAID 1은 데이터를 그대로 두 디스크에 복자하는 구조
- 두 디스크 모두에 같은 데이터를 기록해야 해서 쓰기 병목이 발생할 수 있음

Disk 1: [ A1 ] [ A2 ] [ B1 ] [ B2 ]
Disk 2: [ A1 ] [ A2 ] [ B1 ] [ B2 ]   ← Disk 1 복사

- RAID 10은 원본 데이터 미러링을 진행 한 후 스트라이핑을 하여 미러링 쌍에 데이터를 저장함
- 병렬적인 쓰기가 가능하기 때문에 RAID 1 보다 쓰기 병목이 감소

Disk 1: [ A1 ] [ B1 ] [ C1 ] [ D1 ]
Disk 2: [ A1 ] [ B1 ] [ C1 ] [ D1 ]   ← Disk 1 복사

Disk 3: [ A2 ] [ B2 ] [ C2 ] [ D2 ]
Disk 4: [ A2 ] [ B2 ] [ C2 ] [ D2 ]   ← Disk 3 복사

</details>


### Q6. 아래 상황을 읽고, 각각의 RAID 0 / RAID 1 / RAID 5 / RAID 10 구성이 해당 환경에 적절한지 판단하시오.

> 한 회사에서 고객 상담 기록과 내부 회의 로그 데이터를 저장하는 서버를 구축  
> 데이터는 장기 보관되며, 삭제나 손상 시 복구가 어려워 안정성이 매우 중요  
> 저장 속도는 중요하지 않지만, 복구 시 디스크에 과도한 부하가 발생해서는 안 됨  
> 서버 예산은 제한적이다


<details>
<summary>해설</summary>

| RAID 구성 | 적절성 | 이유 |
|-----------|--------|------|
| RAID 0 | 부적절함 | 성능은 좋지만 복구 기능 없음. 디스크 하나만 고장 나도 전체 데이터 손실 |
| RAID 1 | 적절함 | 복제본을 만들어 안정성이 높고, 복구 시 디스크 부하가 적음. 예산이 적은 환경에 적합 |
| RAID 5 | 부적절함 | 저장 효율은 좋지만, 복구 시 디스크 부하가 크고 복구 시간이 길어 안정성 면에서 위험 |
| RAID 10 | 적절함 (조건부) | 안정성과 성능은 우수하나, 디스크 4개 이상 필요해 예산이 제한된 환경에서는 어려울 수 있음 |

---

- **RAID 0**:  
  속도가 가장 중요한 환경 (예: 캐시 서버, 비중요 임시 데이터 처리)

- **RAID 1**:  
  안정성이 가장 중요한 소규모 시스템 (예: 로그 서버, 소형 데이터 서버)

- **RAID 5**:  
  저장 효율과 안정성의 균형이 필요한 일반적인 서버 (예: NAS, 파일 서버)

- **RAID 6**:  
  이중 장애 대비가 필요한 대용량 저장 서버 (예: 장기 보관용 백업 서버)

- **RAID 10**:  
  성능과 안정성이 모두 중요한 환경 (예: 데이터베이스 서버, 고성능 업무 서버)

</details>

### Q7. 왜 RAID 구성만으로는 데이터 보호에 충분하지 않을까요?

<details>
<summary>해설</summary>

- **디스크 고장 시나리오**   
  - 복구 도중 **다른 디스크도 고장** 나면 전체 데이터 손실로 이어짐
  - 대체적으로 동일한 제조사와 모델의 디스크를 동시에 구매하여 RAID를 구성하기 때문에, **빈번하게 유사한 시점에 고장** 발생

- **데이터 손상 전파**  
  - **사용자 실수**, **바이러스 감염**, **파일 시스템 오류** 등이 발생하면, RAID는 이러한 손상을 **모든 디스크에 그대로 복제**
  - 해당 방식은 데이터의 안정성을 보장하지 못함
  - 예를 들어, 2017년 GitLab에서는 데이터베이스 관리 중 실수로 주요 데이터를 삭제하는 사고가 발생했었음

- **RAID의 목적**  
  - RAID는 **시스템의 가용성**을 높이기 위한 기술로, **데이터의 완전한 보호**를 보장하지 않음  
  - RAID 구성만으로는 충분하지 않으며, 이를 보완하는 **정기적인 백업 전략이 반드시 필요**합니다.

---

### 현직자 인터뷰&실제 사례

> RAID 1을 사용하던 시스템에서 파일 시스템 오류 발생  
> → RAID가 오류를 그대로 복제  
> → 백업 없었고, 결국 복구 불가능  
>
> 출처: [AI타임즈](https://www.aitimes.kr/news/articleView.html?idxno=25065)
 
> **GitLab 데이터 손실 사고 (2017년)**  
> GitLab에서 데이터베이스 관리 중 관리자의 실수로 주요 데이터가 삭제되는 사고가 발생
> 당시 시스템은 RAID 1과 유사하게 데이터를 실시간으로 복제하는 구조(PostgreSQL 복제)를 사용,
> 삭제된 내용이 복제본에도 그대로 반영되어 복구가 불가능
> 게다가 **백업 시스템도 정상적으로 작동하지 않아**, 결과적으로 **약 6시간 분량의 데이터가 유실**되고, 서비스도 중단되었음
>
> 출처: [GitLab 공식 블로그](https://about.gitlab.com/blog/postmortem-of-database-outage-of-january-31/)

</details>





## 📝 사용법  
### 이렇게 활용해 보세요! ✨  
1. ❓ 확인 문제 아래에 본인이 만든 질문을 추가하세요.  
2. 설명이 길어질 경우, 따로 마크다운 파일을 만들고 링크를 함께 추가해 주세요! 🔗  

### 🔗 링크 추가 방법  
1. 먼저 질문을 작성합니다.  
2. 링크를 적용할 문장을 마우스로 선택합니다.  
3. URL을 붙여넣습니다.  
4. 마크다운 형식으로 `[내용](링크)` 형태로 정리됩니다.  
